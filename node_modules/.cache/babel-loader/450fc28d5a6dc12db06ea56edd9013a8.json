{"ast":null,"code":"'use strict';\n\nvar _get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar rp = require('request-promise');\n\nvar debug = require('debug')('HE');\n\nvar helpers = function () {\n  function helpers() {\n    _classCallCheck(this, helpers);\n  }\n\n  _createClass(helpers, [{\n    key: 'getQueryData',\n    value: function getQueryData(_ref, clientSecret, mode) {\n      var language = _ref.language;\n      var time_limit = _ref.time_limit;\n      var memory_limit = _ref.memory_limit;\n      var source = _ref.source;\n      var input = _ref.input;\n      var obj = {\n        client_secret: clientSecret,\n        async: mode,\n        source: source,\n        lang: this.getLanuage(language),\n        input: input,\n        time_limit: time_limit || 1,\n        memory_limit: memory_limit || 262144\n      };\n      return obj;\n    }\n  }, {\n    key: 'getLanuage',\n    value: function getLanuage(language) {\n      var lang = void 0;\n\n      if (language === 'C++') {\n        lang = 'CPP';\n      } else if (language === 'C') {\n        lang = 'C';\n      } else if (language === 'Py') {\n        lang = 'PYTHON';\n      } else if (language === 'C#') {\n        lang = 'CSHARP';\n      } else {\n        lang = language.toUpperCase();\n      }\n\n      return lang;\n    }\n  }, {\n    key: 'getRequestPostJSON',\n    value: function getRequestPostJSON(data, url) {\n      return {\n        method: 'POST',\n        uri: url,\n        form: data,\n        gzip: true\n      };\n    }\n  }, {\n    key: 'doOperation',\n    value: function doOperation(rpData, callback) {\n      return new Promise(function (resolve, reject) {\n        rp(rpData).then(function (body) {\n          return body;\n        }).then(function (res) {\n          if (callback) {\n            callback(null, res);\n          }\n\n          resolve(res);\n        }).catch(function (err) {\n          if (callback) {\n            callback(err, null);\n          }\n\n          reject(err);\n        });\n      });\n    }\n  }]);\n\n  return helpers;\n}();\n\nvar HackerEarth = function (_helpers) {\n  _inherits(HackerEarth, _helpers);\n\n  function HackerEarth(clientSecret, mode) {\n    _classCallCheck(this, HackerEarth);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(HackerEarth).call(this));\n\n    _this._runURL = 'https://api.hackerearth.com/v3/code/run/';\n    _this._compileURL = 'https://api.hackerearth.com/v3/code/compile/';\n    _this._clientSecret = clientSecret;\n    _this._mode = mode || 0;\n    debug('Bootstraping HackerEarth module with clientSecret as %s and mode as %s', clientSecret, mode);\n    return _this;\n  }\n\n  _createClass(HackerEarth, [{\n    key: 'compile',\n    value: function compile(config, callback) {\n      var data = _get(Object.getPrototypeOf(HackerEarth.prototype), 'getQueryData', this).call(this, config, this.clientSecret, this.mode);\n\n      debug('In HackerEarth:Compile Data sent to API is %s', JSON.stringify(data));\n\n      var rpData = _get(Object.getPrototypeOf(HackerEarth.prototype), 'getRequestPostJSON', this).call(this, data, this.compileURL);\n\n      return _get(Object.getPrototypeOf(HackerEarth.prototype), 'doOperation', this).call(this, rpData, callback);\n    }\n  }, {\n    key: 'run',\n    value: function run(config, callback) {\n      var data = _get(Object.getPrototypeOf(HackerEarth.prototype), 'getQueryData', this).call(this, config, this.clientSecret, this.mode);\n\n      debug('In HackerEarth:Run Data sent to API is %s', JSON.stringify(data));\n\n      var rpData = _get(Object.getPrototypeOf(HackerEarth.prototype), 'getRequestPostJSON', this).call(this, data, this.runURL);\n\n      return _get(Object.getPrototypeOf(HackerEarth.prototype), 'doOperation', this).call(this, rpData, callback);\n    }\n  }, {\n    key: 'runURL',\n    get: function get() {\n      return this._runURL;\n    }\n  }, {\n    key: 'compileURL',\n    get: function get() {\n      return this._compileURL;\n    }\n  }, {\n    key: 'clientSecret',\n    get: function get() {\n      return this._clientSecret;\n    }\n  }, {\n    key: 'mode',\n    get: function get() {\n      return this._mode;\n    }\n  }]);\n\n  return HackerEarth;\n}(helpers);\n\nmodule.exports = HackerEarth;","map":{"version":3,"sources":["D:/WEBD/Projects(khud se)/IDE(task)/my-app/node_modules/hackerearth-node/distribution/index.js"],"names":["_get","get","object","property","receiver","Function","prototype","desc","Object","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","value","getter","call","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","key","Constructor","protoProps","staticProps","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","create","constructor","setPrototypeOf","__proto__","_classCallCheck","instance","rp","require","debug","helpers","getQueryData","_ref","clientSecret","mode","language","time_limit","memory_limit","source","input","obj","client_secret","async","lang","getLanuage","toUpperCase","getRequestPostJSON","data","url","method","uri","form","gzip","doOperation","rpData","callback","Promise","resolve","reject","then","body","res","catch","err","HackerEarth","_helpers","_this","_runURL","_compileURL","_clientSecret","_mode","compile","config","JSON","stringify","compileURL","run","runURL","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar rp = require('request-promise');\nvar debug = require('debug')('HE');\n\n\nvar helpers = function () {\n    function helpers() {\n        _classCallCheck(this, helpers);\n    }\n\n    _createClass(helpers, [{\n        key: 'getQueryData',\n        value: function getQueryData(_ref, clientSecret, mode) {\n            var language = _ref.language;\n            var time_limit = _ref.time_limit;\n            var memory_limit = _ref.memory_limit;\n            var source = _ref.source;\n            var input = _ref.input;\n\n            var obj = {\n                client_secret: clientSecret,\n                async: mode,\n                source: source,\n                lang: this.getLanuage(language),\n                input: input,\n                time_limit: time_limit || 1,\n                memory_limit: memory_limit || 262144\n            };\n            return obj;\n        }\n    }, {\n        key: 'getLanuage',\n        value: function getLanuage(language) {\n            var lang = void 0;\n            if (language === 'C++') {\n                lang = 'CPP';\n            } else if (language === 'C') {\n                lang = 'C';\n            } else if (language === 'Py') {\n                lang = 'PYTHON';\n            } else if (language === 'C#') {\n                lang = 'CSHARP';\n            } else {\n                lang = language.toUpperCase();\n            }\n            return lang;\n        }\n    }, {\n        key: 'getRequestPostJSON',\n        value: function getRequestPostJSON(data, url) {\n            return {\n                method: 'POST',\n                uri: url,\n                form: data,\n                gzip: true\n            };\n        }\n    }, {\n        key: 'doOperation',\n        value: function doOperation(rpData, callback) {\n            return new Promise(function (resolve, reject) {\n                rp(rpData).then(function (body) {\n                    return body;\n                }).then(function (res) {\n                    if (callback) {\n                        callback(null, res);\n                    }\n                    resolve(res);\n                }).catch(function (err) {\n                    if (callback) {\n                        callback(err, null);\n                    }\n                    reject(err);\n                });\n            });\n        }\n    }]);\n\n    return helpers;\n}();\n\nvar HackerEarth = function (_helpers) {\n    _inherits(HackerEarth, _helpers);\n\n    function HackerEarth(clientSecret, mode) {\n        _classCallCheck(this, HackerEarth);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(HackerEarth).call(this));\n\n        _this._runURL = 'https://api.hackerearth.com/v3/code/run/';\n        _this._compileURL = 'https://api.hackerearth.com/v3/code/compile/';\n        _this._clientSecret = clientSecret;\n        _this._mode = mode || 0;\n        debug('Bootstraping HackerEarth module with clientSecret as %s and mode as %s', clientSecret, mode);\n        return _this;\n    }\n\n    _createClass(HackerEarth, [{\n        key: 'compile',\n        value: function compile(config, callback) {\n            var data = _get(Object.getPrototypeOf(HackerEarth.prototype), 'getQueryData', this).call(this, config, this.clientSecret, this.mode);\n            debug('In HackerEarth:Compile Data sent to API is %s', JSON.stringify(data));\n            var rpData = _get(Object.getPrototypeOf(HackerEarth.prototype), 'getRequestPostJSON', this).call(this, data, this.compileURL);\n            return _get(Object.getPrototypeOf(HackerEarth.prototype), 'doOperation', this).call(this, rpData, callback);\n        }\n    }, {\n        key: 'run',\n        value: function run(config, callback) {\n            var data = _get(Object.getPrototypeOf(HackerEarth.prototype), 'getQueryData', this).call(this, config, this.clientSecret, this.mode);\n            debug('In HackerEarth:Run Data sent to API is %s', JSON.stringify(data));\n            var rpData = _get(Object.getPrototypeOf(HackerEarth.prototype), 'getRequestPostJSON', this).call(this, data, this.runURL);\n            return _get(Object.getPrototypeOf(HackerEarth.prototype), 'doOperation', this).call(this, rpData, callback);\n        }\n    }, {\n        key: 'runURL',\n        get: function get() {\n            return this._runURL;\n        }\n    }, {\n        key: 'compileURL',\n        get: function get() {\n            return this._compileURL;\n        }\n    }, {\n        key: 'clientSecret',\n        get: function get() {\n            return this._clientSecret;\n        }\n    }, {\n        key: 'mode',\n        get: function get() {\n            return this._mode;\n        }\n    }]);\n\n    return HackerEarth;\n}(helpers);\n\nmodule.exports = HackerEarth;"]},"metadata":{},"sourceType":"script"}